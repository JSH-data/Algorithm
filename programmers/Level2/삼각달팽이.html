<html>
  <script>
    function solution(n) {
      if (n === 1) return [1];
      const answer = Array.from({ length: n }, (v, i) =>
        new Array(i + 1).fill(0)
      );
      const end = (n ** 2 + n) / 2;
      let start = 1;
      let flag = true;
      let idx = 0;

      while (start <= end) {
        if (idx > n - 1) idx = n - 1;
        if (idx < 0) idx = 0;

        if (!answer[idx].includes(0)) {
          while (!answer[idx].includes(0)) {
            if (flag === true) {
              idx--;
              n--;
            } else idx++;
          }
          if (flag === true) flag = false;
          else flag = true;
        }
        if (flag) {
          let firstZeroIdx = answer[idx].indexOf(0);
          answer[idx++][firstZeroIdx] = start++;
        } else {
          let lastZeroIdx = answer[idx].lastIndexOf(0);
          answer[idx--][lastZeroIdx] = start++;
        }
      }
      return [].concat(...answer);
    }
  </script>
</html>
